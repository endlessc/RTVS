(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.rtvswx=e()}})(function(){var e,t,i;return function(){function e(t,i,n){function r(a,o){if(!i[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){var i=t[a][1][e];return r(i||e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}return e}()({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=e("../helper/ByteHelper");var s=c(r);var a=e("../events");var o=c(a);var u=e("../utils/logger");var f=c(u);var h=e("../utils/cvComm");var l=c(h);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function e(t){d(this,e);this.wfs=t;this.msg_serial_number=0;this.v2=true}n(e,[{key:"JT1078808Package7",value:function e(t,i,n,r){var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;return this.JT1078808Package(t,i,n,r,s,a,7)}},{key:"JT1078808Package",value:function t(i,n,r,s){var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:8;var f=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;if(a==null){a=r}var h=0;if(n){h=n.GetLength()}var l=0;if(f){l=f.msg_serial_number;if(l>=255)f.msg_serial_number=0;else f.msg_serial_number+=1}else{l=this.msg_serial_number;if(l>=255)this.msg_serial_number=0;else this.msg_serial_number+=1}var c=this.wfs.config.protocol!=0;var d=new e.JTHeader(i,false,0,h,a,l,c);var g=0;var v;v=new Uint8Array(h+d.GetLength());d.GetBinaryData(v,g);g+=d.GetLength();if(h>0){n.GetBinaryData(v,g)}var y=new e.JT808Package(v,0,v.length);var T=new e.JTRTHead(false,o,0,r,s,u,0,0,0,0,y.length,c);g=0;var S=new Uint8Array(T.GetLength()+y.length);T.GetBinaryData(S,0);g+=T.GetLength();for(var w=0;w<y.length;w++){S[g++]=y[w]}return{binary:S,head:d}}},{key:"Send9101",value:function t(i,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var a=new e.JTRealVideoTransferRequest("",0,0,n,r,s);var o=this.JT1078808Package(37121,a,i,n,i);this.Send(o.binary)}},{key:"Send9102",value:function t(i,n,r,s,a){var o=new e.JTRealVideoTransferControl(n,r,s,a);var u=this.JT1078808Package(37122,o,i,n);this.Send(u.binary)}},{key:"Send9201",value:function t(i,n,r,s,a,o,u,f,h,l){var c=new e.JTVideoPlaybackRequest("",0,0,n,r,s,a,o,u,f,h,l);var d=this.JT1078808Package(37377,c,i,n,i);this.Send(d.binary)}},{key:"Send9202",value:function t(i,n,r,s,a){var o=new e.JTVideoPlaybackControl(n,r,s,a);var u=this.JT1078808Package(37378,o,i,n);this.Send(u.binary)}},{key:"Send9205",value:function t(i,n,r,s,a,o,u,f,h,l,c){var d=new e.JTQueryVideoFileList(r,s,a,o,u,f,h,l);var g=this.JT1078808Package(37381,d,n,r,null,0,8,i);i.sendMessage(g.binary,c,4613,g.head.SerialNumber)}},{key:"Send9206",value:function t(i,n,r,s,a,o,u,f,h,l,c,d,g,v,y,T){var S=new e.JTVideoFileUpload(r,s,a,o,u,f,h,l,c,d,g,v,y);var w=this.JT1078808Package(37382,S,n,r,null,0,8,i);i.sendMessage(w.binary,T,4614)}},{key:"Send9207",value:function t(i,n,r,s){var a=new e.JTVideoFileUploadControl(r,s);var o=this.JT1078808Package(37383,a,i,n);this.Send(o.binary)}},{key:"Send9301",value:function t(i,n,r,s){var a=new e.JTRTPTZRotate(n,r,s);var o=this.JT1078808Package(37633,a,i,n);this.Send(o.binary)}},{key:"Send9302",value:function t(i,n,r){var s=new e.JTRPTZControl(n,r);var a=this.JT1078808Package(37634,s,i,n);this.Send(a.binary)}},{key:"Send9303",value:function t(i,n,r){var s=new e.JTRPTZControl(n,r);var a=this.JT1078808Package(37635,s,i,n);this.Send(a.binary)}},{key:"Send9304",value:function t(i,n,r){var s=new e.JTRPTZControl(n,r);var a=this.JT1078808Package(37636,s,i,n);this.Send(a.binary)}},{key:"Send9305",value:function t(i,n,r){var s=new e.JTRPTZControl(n,r);var a=this.JT1078808Package(37637,s,i,n);this.Send(a.binary)}},{key:"Send9306",value:function t(i,n,r){var s=new e.JTRPTZControl(n,r);var a=this.JT1078808Package(37638,s,i,n);this.Send(a.binary)}},{key:"Send8881",value:function t(i,n,r){var s=new e.JTPrioritySetExt(r);var a=this.JT1078808Package(34945,s,i,n);this.Send(a.binary)}},{key:"Send9101Webrtc",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;this.Send9101_SpecialSim(this.GetWebrtcSim(t),t,i,n,r)}},{key:"Send9201Webrtc",value:function e(t,i,n,r,s,a,o,u,f,h){this.Send9201_SpecialSim(this.GetWebrtcSim(t),t,i,n,r,s,a,o,u,f,h)}},{key:"Send8801",value:function t(i,n,r){var s=new e.JT0x8886(5,r,null,null);var a=this.JT1078808Package(34950,s,i,n);this.Send(a.binary)}},{key:"SendHeartRtmp",value:function t(i,n,r,s){var a=new e.JT0x8886(6,null,r,s);var o=this.JT1078808Package(34950,a,i,n);this.Send(o.binary)}},{key:"Send9101Rtmp",value:function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;this.Send9101_SpecialSim(this.GetRtmpSim(t),t,i,n,r)}},{key:"Send9201Rtmp",value:function e(t,i,n,r,s,a,o,u,f,h){this.Send9201_SpecialSim(this.GetRtmpSim(t),t,i,n,r,s,a,o,u,f,h)}},{key:"Send9101_SpecialSim",value:function t(i,n,r){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;var o=new e.JTRealVideoTransferRequest("",0,0,r,s,a);var u=this.JT1078808Package7(37121,o,n,r,i);this.Send(u.binary)}},{key:"Send9201_SpecialSim",value:function t(i,n,r,s,a,o,u,f,h,l,c){var d=new e.JTVideoPlaybackRequest("",0,0,r,s,a,o,u,f,h,l,c);var g=this.JT1078808Package7(37377,d,n,r,i);this.Send(g.binary)}},{key:"SendAudio",value:function t(i,n,r,s,a,o){var u=new e.JTRTHead(1,a,s,i,n,3,0,o,0,0,r.length,this.wfs.config.protocol!=0);var f=new Uint8Array(u.GetLength()+r.length);u.GetBinaryData(f,0);var h=u.GetLength();for(var l=0;l<r.length;l++){f[h++]=r[l]}this.Send(f)}},{key:"Send",value:function e(t){this.wfs.trigger(o.default.WEBSOCKET_DATA_UPLOADING,{data:t})}},{key:"GetRtmpSim",value:function e(t){var i="1234888888ec";if(i==t.toLowerCase()){return"1234888888eb"}return i}},{key:"GetWebrtcSim",value:function e(t){var i="1234888888ee";if(i==t.toLowerCase()){return"1234888888ed"}return i}}]);return e}();g.GetFirstSerialNumber=function(e){var t=void 0;if(e.PackInfo){t=e.SerialNumber-e.PackInfo.Index+1}else{t=e.SerialNumber}return t};g.GetMsbBody=function(e,t){var i=e.GetLength();return t.slice(i,i+e.MsgLen)};g.JTRTHead=function(e,t,i,n,r,a,o,u,f,h,l,c){this.V=2;this.P=false;this.X=false;this.CC=1;this.M=e;this.PT=t;this.SerialNumber=i;this.Sim=n;this.Channel=r;this.XXXX=a;this.YYYY=o;this.RTTimeSpan=u;this.LastIFrameInterval=f;this.LastFrameInterval=h;this.DLen=l;this.BinaryDataLen=0;this.Sim20=c;this.FillByBinary=function(e,t,i){if(isNaN(t)){t=0}if(isNaN(i)){i=e.length}var n=t;if(e[n]===48&&e[n+1]===49&&e[n+2]===99&&e[n+3]===100){n+=4;this.V=e[n]>>6;this.P=(e[n]&32)===32;this.X=(e[n]&16)===16;this.CC=e[n]&15;n+=1;this.M=(e[n]&128)===128;this.PT=e[n]&127;n+=1;this.SerialNumber=s.default.Byte2ToUInt(e,n);n+=2;if(this.Sim20){this.Sim=s.default.BcdToString(e,n,20);n+=10}else{this.Sim=s.default.BcdToString(e,n,12);n+=6}this.Channel=e[n];n+=1;this.XXXX=e[n]>>4;this.YYYY=e[n]&15;n+=1;if(this.XXXX<4){this.RTTimeSpan=s.default.Byte8ToULong(e,n);n+=8}if(this.XXXX<3){this.LastIFrameInterval=s.default.Byte2ToUInt(e,n);n+=2;this.LastFrameInterval=s.default.Byte2ToUInt(e,n);n+=2}this.DLen=s.default.Byte2ToUInt(e,n);n+=2;this.BinaryDataLen=n-t}};this.GetBinaryData=function(d,g){var v=g;d[v++]=48;d[v++]=49;d[v++]=99;d[v++]=100;d[v++]=129;if(e==1){d[v++]=t|128}else{d[v++]=t}s.default.UIntToByte2(d,v,i);v+=2;if(c){s.default.StringToBcd(d,v,n,20);v+=10}else{s.default.StringToBcd(d,v,n,12);v+=6}d[v++]=r;d[v++]=a<<4&240|o&15;if(a>=4){s.default.UIntToByte2(d,v,l)}else if(a===3){s.default.ULongToByte8(d,v,u);s.default.UIntToByte2(d,v+8,l)}else{s.default.ULongToByte8(d,v,u);s.default.UIntToByte2(d,v+8,f);s.default.UIntToByte2(d,v+10,h);s.default.UIntToByte2(d,v+12,l)}};this.GetLength=function(){var e=0;if(this.Sim20){e=4}if(a>=4){return e+18}else if(a===3){return e+26}else{return e+30}}};g.JTHeader=function(e,t,i,n,r,a,o,u){this.MsgId=e;this.Sub=t;this.DataEncryptType=i;this.MsgLen=n;this.Sim=r;this.SerialNumber=a;this.Length=0;this.PackInfo=null;this.Is2019=o?true:false;this.Ver=u==null?1:u;this.FillByBinary=function(e,t,i){var n=t;this.MsgId=s.default.Byte2ToUInt(e,n);this.Is2019=(e[n+2]&64)===64;this.Sub=(e[n+2]&32)===32;this.DataEncryptType=(e[n+2]&28)>>2;e[n+2]=e[n+2]&3;this.MsgLen=s.default.Byte2ToUInt(e,n+2);if(this.Is2019){this.Ver=e[n+4];this.Sim=s.default.BcdToString(e,n+5,20);n+=15}else{this.Sim=s.default.BcdToString(e,n+4,12);n+=10}this.SerialNumber=s.default.Byte2ToUInt(e,n);if(this.Sub){this.PackInfo=new g.JTPackageInfo;this.PackInfo.Sum=s.default.Byte2ToUInt(e,n+2);this.PackInfo.Index=s.default.Byte2ToUInt(e,n+4)}};this.GetBinaryData=function(t,o){var u=o;s.default.UIntToByte2(t,u,e);u+=2;s.default.UIntToByte2(t,u,n);var f=64;if(!this.Is2019){f=0}if(this.Sub){f=f|32}f=f|(i&7)<<2;t[u]=t[u]|f;u+=2;if(this.Is2019){t[u]=this.Ver;s.default.StringToBcd(t,u+1,r,20);u+=11}else{s.default.StringToBcd(t,u,r,12);u+=6}s.default.UIntToByte2(t,u,a);if(this.Sub){s.default.UIntToByte2(t,u+2,this.PackInfo.Sum);s.default.UIntToByte2(t,u+4,this.PackInfo.Index)}};this.GetLength=function(){if(this.Is2019){return this.Sub?21:17}return this.Sub?16:12}};g.JTPackageInfo=function(e,t){this.Index=e;this.Sum=t};g.JTRealVideoTransferRequest=function(e,t,i,n,r,a){this.IPAddress=e;this.TcpPort=t;this.UdpPort=i;this.Channel=n;this.DataType=r;this.StreamType=a;this.Length=0;this.GetBinaryData=function(o,u){o[u]=s.default.StringToGBK(o,u+1,e);u=u+1+o[u];s.default.UIntToByte2(o,u,t);u+=2;s.default.UIntToByte2(o,u,i);u+=2;o[u++]=n;o[u++]=r;o[u++]=a};this.GetLength=function(){var t=e.length;return t+8}};g.JTRealVideoTransferControl=function(e,t,i,n){this.Channel=e;this.ControlCommand=t;this.SwitchStreamType=i;this.TurnOffMediaType=n;this.GetBinaryData=function(r,s){r[s]=e;s+=1;r[s]=t;s+=1;r[s]=n;s+=1;r[s]=i;s+=1};this.GetLength=function(){return 4}};g.JTVideoPlaybackRequest=function(e,t,i,n,r,a,o,u,f,h,l,c){this.IPAddress=e;this.TcpPort=t;this.UdpPort=i;this.Channel=n;this.MediaType=r;this.StreamType=a;this.StorageType=o;this.PlaybackMode=u;this.Multiple=f;this.StartTime=h;this.EndTime=l;this.DataSource=c;this.Length=0;this.GetBinaryData=function(d,v){d[v]=s.default.StringToGBK(d,v+1,e);v=v+1+d[v];s.default.UIntToByte2(d,v,t);v+=2;s.default.UIntToByte2(d,v,i);v+=2;d[v++]=n;d[v++]=r;d[v++]=a;d[v++]=o;d[v++]=u;d[v++]=f;var y=g.GetYYMMddHHmmssByDate(h);s.default.StringToBcd(d,v,y,12);v+=6;if(l===""){s.default.StringToBcd(d,v,"000000000000",12)}else{var T=g.GetYYMMddHHmmssByDate(l);s.default.StringToBcd(d,v,T,12)}v+=6;d[v++]=c};this.GetLength=function(){var t=e.length;return t+24}};g.JTVideoPlaybackControl=function(e,t,i,n){this.Channel=e;this.PlaybackControl=t;this.Multiple=i;this.DragPlaybackPosition=n;this.GetBinaryData=function(r,a){r[a]=e;a+=1;r[a]=t;a+=1;r[a]=i;a+=1;if(t===5){var o=g.GetYYMMddHHmmssByDate(n);s.default.StringToBcd(r,a,o,12);a+=6}};this.GetLength=function(){return 9}};g.JTQueryVideoFileList=function(e,t,i,n,r,a,o,u){this.Channel=e,this.StartTime=t,this.EndTime=i,this.Alarm=n,this.MediaType=r,this.StreamType=a,this.StorageType=o,this.DataSource=u;this.GetBinaryData=function(f,h){f[h]=e;h+=1;if(t===0){s.default.StringToBcd(f,h,"000000000000",12)}else{var l=g.UnixLongToDate(t);var c=g.GetYYMMddHHmmssByDate(l);s.default.StringToBcd(f,h,c,12)}h+=6;if(i===0){s.default.StringToBcd(f,h,"000000000000",12)}else{var d=g.UnixLongToDate(i);var v=g.GetYYMMddHHmmssByDate(d);s.default.StringToBcd(f,h,v,12)}h+=6;s.default.ULongToByte8(f,h,n);h+=8;f[h]=r;h+=1;f[h]=a;h+=1;f[h]=o;h+=1;f[h]=u;h+=1};this.GetLength=function(){return 25}};g.JTVideoFileUpload=function(e,t,i,n,r,a,o,u,f,h,l,c,d){this.Channel=e;this.FtpAddress=t;this.FtpPort=i;this.UserName=n;this.Password=r;this.FileUploadPath=a;this.StartTime=o;this.EndTime=u;this.Alarm=f;this.MediaType=h;this.StreamType=l;this.StorageType=c;this.TaskExecutionCondition=d;this.GetBinaryData=function(v,y){var T=s.default.StringToGBK(v,y+1,t);v[y]=T;y+=1;y+=T;s.default.UIntToByte2(v,y,i);y+=2;var S=s.default.StringToGBK(v,y+1,n);v[y]=S;y+=1;y+=S;var w=s.default.StringToGBK(v,y+1,r);v[y]=w;y+=1;y+=w;var m=s.default.StringToGBK(v,y+1,a);v[y]=m;y+=1;y+=m;v[y]=e;y+=1;var p=g.GetYYMMddHHmmssByDate(o);s.default.StringToBcd(v,y,p,12);y+=6;var b=g.GetYYMMddHHmmssByDate(u);s.default.StringToBcd(v,y,b,12);y+=6;s.default.ULongToByte8(v,y,f);y+=8;v[y]=h;y+=1;v[y]=l;y+=1;v[y]=c;y+=1;v[y]=d;y+=1};this.GetLength=function(){return 31+t.length+n.length+r.length+a.length}};g.JTVideoFileUploadControl=function(e,t){this.SerialNumber=e;this.UploadControl=t;this.GetBinaryData=function(i,n){s.default.UIntToByte2(i,n,e);n+=2;i[n]=t;n+=1};this.GetLength=function(){return 3}};g.JTRTPTZRotate=function(e,t,i){this.LogicalChannel=e;this.Direction=t;this.Speed=i;this.GetBinaryData=function(n,r){n[r]=e;r+=1;n[r]=t;r+=1;n[r]=i;r+=1};this.GetLength=function(){return 3}};g.JTRPTZControl=function(e,t){this.Channel=e;this.Flag=t;this.GetBinaryData=function(i,n){i[n]=e;n+=1;i[n]=t;n+=1};this.GetLength=function(){return 2}};g.JT808Package=function(e,t,i){var n=i+2;var r=t;var s=0;for(;r<i+t;r++){s=e[r]^s;if(e[r]===126){n++}if(e[r]===125){n++}}if(s===126){n+=2}else if(s===125){n+=2}else{n+=1}var a=new Uint8Array(n);var o=0;a[o++]=126;s=0;for(r=t;r<i+t;r++,o++){a[o]=e[r];s=e[r]^s;if(e[r]===126){e[r]=125;o++;a[o]=1}if(e[r]===125){o++;a[o]=2}}if(s===126){a[o++]=125;a[o++]=2}else if(s===125){a[o++]=125;a[o++]=1}else{a[o++]=s}a[o++]=126;return a};g.JTVideoListInfo=function(){this.SerialNumber;this.FileCount;this.FileList;this.FillByBinary=function(e,t,i){this.FileList=[];var n=t;this.SerialNumber=s.default.Byte2ToUInt(e,n);n+=2;this.FileCount=s.default.Byte4ToUInt(e,n);n+=4;if(this.FileCount>0&&e.length>=28*this.FileCount+n){for(var r=0;r<this.FileCount;r++){var a=new g.JTVideoFileListItem;a.FillByBinary(e,n);this.FileList.push(a);n+=28}}}};g.JTVideoFileListItem=function(){this.Channel;this.StartTime;this.EndTime;this.Alarm;this.MediaType;this.StreamType;this.StorageType;this.FileSize;this.FillByBinary=function(e,t){this.Channel=e[t];t+=1;this.StartTime=s.default.BcdToString(e,t,12);t+=6;this.EndTime=s.default.BcdToString(e,t,12);t+=6;this.Alarm=s.default.Byte8ToULong(e,t);t+=8;this.MediaType=e[t];t+=1;this.StreamType=e[t];t+=1;this.StorageType=e[t];t+=1;this.FileSize=s.default.Byte4ToUInt(e,t);t+=4}};g.JTVideoFileUploadEndInform=function(){this.SerialNumber;this.Result;this.FillByBinary=function(e,t){this.SerialNumber=s.default.Byte2ToUInt(e,t);t+=2;this.Result=e[t];t+=1}};g.SplitData=function(){var e=[];this.SplitDataBy7E=function(t,i,n,r){try{var s=0;var a=false;var o=false;var u=[];if(e!=[]&&(n>0&&t[i]!=126||n>1&&t[i]==126&&t[i+1]==126)){u=e;a=false;if(e.length>0)o=e[e.length-1]==125}else{u=[];a=true;o=false}while(s<n){if(t[i+s]==126){a=!a;if(a){try{r(u)}catch(e){f.default.error("SplitDataBy7E analyze exeception:"+e)}}else{while(n>s+1&&t[i+s+1]==126){s++}u=[]}}else if(o){if(t[i+s]==1)u[u.length-1]=125;else if(t[i+s]==2)u[u.length-1]=126;else{f.default.error("ErrorBinaryData7E");break}}else{u.push(t[i+s])}o=t[i+s]==125;s++}e=a?[]:u}catch(e){f.default.error("SplitDataBy7E exception:"+e)}}};g.CheckHelper=function(){this.CheckXOR=function(e,t,i){var n=0;for(var r=0;r<i;r++){n=(e[r+t]^n)&255}return n}};g.GetYYMMddHHmmssByDate=function(e){try{var t="";var i=g.ParseDate(e);var n=i.getFullYear()-2e3;t+=(n+"").length<2?"0"+n:n;var r=i.getMonth()+1;t+=(r+"").length<2?"0"+r:r;var s=i.getDate();t+=(s+"").length<2?"0"+s:s;var a=i.getHours();t+=(a+"").length<2?"0"+a:a;var o=i.getMinutes();t+=(o+"").length<2?"0"+o:o;var u=i.getSeconds();t+=(u+"").length<2?"0"+u:u;return t}catch(e){f.default.error("Datetime format must match:yyyy-mm-dd hh:mm:ss");return""}};g.ParseDate=function(e){var t=Date.parse(e);if(isNaN(t)){return new Date(Date.parse(e.replace(/-/g,"/")))}else{return new Date(t)}};g.DateToUnixLong=function(e){return Date.parse(g.ParseDate(e))/1e3};g.UnixLongToDate=function(e){return new Date(e*1e3)};g.JTPrioritySetExt=function(e){this.Priority=e;this.GetBinaryData=function(t,i){t[i]=e;i+=1};this.GetLength=function(){return 1}};g.ExtendRefuse=function(){this.DLen;this.Reason;this.FillByBinary=function(t,i,n){if(isNaN(i)){i=0}if(isNaN(n)){n=t.length}var r=i;this.DLen=s.default.Byte2ToUInt(t,r);r+=2;this.Reason=e(t,r,this.DLen)};function e(e,t,i){var n="",r=e;for(var s=t;s<i+t;s++){var a=r[s].toString(2),o=a.match(/^1+?(?=0)/);if(o&&a.length==8){var u=o[0].length;var f=r[s].toString(2).slice(7-u);for(var h=1;h<u;h++){f+=r[h+s].toString(2).slice(2)}n+=String.fromCharCode(parseInt(f,2));s+=u-1}else{n+=String.fromCharCode(r[s])}}return n}};g.JT0x8886=function(e,t,i,n){this.Type=e;this.WebrtcRoomid=t;this.RtmpURL=i;this.RtmpClientId=n;this.Length=0;this.GetBinaryData=function(r,a){r[a]=e;a+=1;if(e==5){var o=s.default.StringToGBK(r,a+2,t);s.default.UIntToByte2(r,a,o)}if(e==6){var o=s.default.StringToGBK(r,a+2,i);s.default.UIntToByte2(r,a,o);a=a+2+o;o=s.default.StringToGBK(r,a+2,n);s.default.UIntToByte2(r,a,o)}};this.GetLength=function(){var r=1;if(e==5){r+=t.length+2}if(e==6){r+=i.length+n.length+4}return r}};g.JT0x0889=function(){this.ASerial;this.Type;this.Url;this.FillByBinary=function(e,t,i){this.ASerial=s.default.Byte2ToUInt(e,t);this.Type=e[t+2];this.Url=s.default.GBKToString(e,t+3,i-3)}};g.JT0x8889=function(){this.Wss=l.default.IsHttps();this.GetBinaryData=function(e,t){if(this.Wss){e[t]=1}else{e[t]=0}};this.GetLength=function(){return 1}};g.JT0x8890=function(){this.NType;this.Notice;this.FillByBinary=function(e,t,i){this.NType=s.default.Byte2ToUInt(e,t);var n=s.default.Byte2ToUInt(e,t+2);this.Notice=s.default.Utf8ArrayToStr(e,t+4,n)}};i.default=g},{"../events":2,"../helper/ByteHelper":3,"../utils/cvComm":8,"../utils/logger":9}],2:[function(e,t,i){"use strict";t.exports={MEDIA_ATTACHING:"wfsMediaAttaching",MEDIA_ATTACHED:"wfsMediaAttached",FRAG_LOADING:"wfsFragLoading",BUFFER_CREATED:"wfsBufferCreated",BUFFER_APPENDING:"wfsBufferAppending",BUFFER_RESET:"wfsBufferReset",FRAG_PARSING_DATA:"wfsFragParsingData",FRAG_PARSING_INIT_SEGMENT:"wfsFragParsingInitSegment",H264_DATA_PARSING:"wfsH264DataParsing",WEBSOCKET_ATTACHED:"wfsWebsocketAttached",WEBSOCKET_ATTACHING:"wfsWebsocketAttaching",WEBSOCKET_DATA_UPLOADING:"wfsWebsocketDataUploading",WEBSOCKET_MESSAGE_SENDING:"wfsWebsocketMessageSending",WEBSOCKET_CLOSE:"wfsWebsocketClose",WEBSOCKET_OPEN:"wfsWebsocketOpen",FILE_HEAD_LOADING:"wfsFileHeadLoading",FILE_HEAD_LOADED:"wfsFileHeadLoaded",FILE_DATA_LOADING:"wfsFileDataLoading",FILE_DATA_LOADED:"wfsFileDataLoaded",FILE_PARSING_DATA:"wfsFileParsingData",JT1078_DATA_PARSING:"wfsJT1078DataParsing",JT1078_PCM_OUT:"wfsJT1078PcmOut",JT1078_RGB_OUT:"wfsJT1078RgbOut",JT1078ToFMp4_DATA_PARSING:"wfsJT1078ToFMp4DataParsing",WEBRTC_SFU_INFO:"wfsWebrtcSFUInfo",HLS_INFO:"wfsHlsInfo",SPEEK_DATA:"wfsSpeekParsingData",WEBRTC_SRS_MSG:"wfsWebrtcSrsInfo"}},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=e("../utils/long");var s=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){o(this,e)}n(e,[{key:"toHex",value:function t(i){return e.toHex(i)}}],[{key:"concatenate",value:function e(t,i){var n=0;var r=true;var s=false;var a=undefined;try{for(var o=i[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var f=u.value;n+=f.length}}catch(e){s=true;a=e}finally{try{if(!r&&o.return){o.return()}}finally{if(s){throw a}}}var h=new t(n);var l=0;var c=true;var d=false;var g=undefined;try{for(var v=i[Symbol.iterator](),y;!(c=(y=v.next()).done);c=true){var T=y.value;h.set(T,l);l+=T.length}}catch(e){d=true;g=e}finally{try{if(!c&&v.return){v.return()}}finally{if(d){throw g}}}return h}},{key:"toHex",value:function e(t){var i=t.toString(16);if(i.length<2){return"0"+i}return i}},{key:"Byte2ToUInt",value:function e(t,i){return t[i+1]|t[i]<<8}},{key:"Byte4ToUInt",value:function e(t,i){return t[i+3]|t[i+2]<<8|t[i+1]<<16|t[i]<<24}},{key:"BcdToString",value:function e(t,i,n){var r="";for(var s=0;s<n/2;s++){r+=this.toHex(t[i+s])}return r}},{key:"StringTimeToUnixLong",value:function e(t){var i=parseInt("20"+t.substring(0,2));var n=parseInt(t.substring(2,4));var r=parseInt(t.substring(4,6));var s=parseInt(t.substring(6,8));var a=parseInt(t.substring(8,10));var o=parseInt(t.substring(10,12));if(r==0||n==0||n>12||r>31||s>24||a>60||o>60){return}var u=i+"-"+n+"-"+r+" "+s+":"+a+":"+o;return parseInt(new Date(u).getTime()/1e3)}},{key:"StringToBcd",value:function e(t,i,n,r){while(n.length<r){n="0"+n}for(var s=0;s<r/2;s++){t[i+s]=parseInt("0x"+n.substring(s*2,s*2+2))}}},{key:"Byte8ToULong",value:function t(i,n){return new s.default(e.Byte4ToUInt(i,n+4),e.Byte4ToUInt(i,n),true)}},{key:"UIntToByte2",value:function e(t,i,n){t[i++]=n>>8&255;t[i++]=n&255}},{key:"IntToByte4",value:function e(t,i,n){t[i++]=n>>24&255;t[i++]=n>>16&255;t[i++]=n>>8&255;t[i++]=n&255}},{key:"ULongToByte8",value:function e(t,i,n){if(!s.default.isLong(n)){n=s.default.fromString(n.toString(),true)}var r=n.toBytesBE();t[i++]=r[0];t[i++]=r[1];t[i++]=r[2];t[i++]=r[3];t[i++]=r[4];t[i++]=r[5];t[i++]=r[6];t[i++]=r[7]}},{key:"StringToGBK",value:function e(t,i,n){for(var r=0;r<n.length;r++){t[i+r]=n.charCodeAt(r)}return n.length}},{key:"GBKToString",value:function e(t,i,n){if(i===undefined){i=0}if(n===undefined){n=t.length}var r="";for(var s=0;s<n;s++){r+=String.fromCharCode(t[s+i])}return r}},{key:"Utf8ArrayToStr",value:function e(t,i,n){if(i===undefined){i=0}if(n===undefined){n=t.length}var r,s,n,a;var o,u;r="";n=n;s=i;while(s-i<n){a=t[s++];switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(a);break;case 12:case 13:o=t[s++];r+=String.fromCharCode((a&31)<<6|o&63);break;case 14:o=t[s++];u=t[s++];r+=String.fromCharCode((a&15)<<12|(o&63)<<6|(u&63)<<0);break}}return r}}]);return e}();i.default=u},{"../utils/long":10}],4:[function(e,t,i){"use strict";t.exports=e("./rtvswx.js").default},{"./rtvswx.js":7}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=e("../JX/JTT1078");var s=u(r);var a=e("../utils/logger");var o=u(a);function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function e(t){f(this,e);this.wfs=t;this.jt1078=new s.default(this)}n(e,[{key:"destroy",value:function e(){this.close()}},{key:"trigger",value:function e(t,i){this.send(i.data)}},{key:"send",value:function e(t){this.wss.send({data:t.buffer,complete:function e(t){o.default.debug("sendSocketMessage",t)}})}},{key:"conn",value:function e(t,i,n,r){this.callback=r;var s=this;var a=true;this.wss=wx.connectSocket({url:"wss://"+t+":"+i,complete:function e(t){o.default.debug("connectSocket",t)}});this.wss.onClose(function(e){o.default.debug("SocketClosed",e);if(this.wfs.config.events){if(this.wfs.config.events.onWsClose){this.wfs.config.events.onWsClose(this.wfs.video_id,this.wfs)}if(this.wfs.config.events.onServerNotice){this.wfs.config.events.onServerNotice("onWsClose",this.wfs.video_id,this.wfs)}this.wfs.Stop()}}.bind(this));this.wss.onMessage(function(e){s.receive(e)});var u=function e(t){if(a){a=false;o.default.debug("onSocketOpen",t);if(s.wfs.config.protocol!=0){s.send(new Uint8Array([48,49,99,100,231,255,253,242,0,0,0,0,0,0,0,128,0,0]))}n()}};this.wss.onOpen(u);if(this.wss.readyState==1){u()}}},{key:"close",value:function e(){if(this.wss){this.wss.close({complete:function e(t){o.default.debug("closeSocket",t)}});this.wss=null}}},{key:"receive",value:function e(t){var i=new Uint8Array(t.data);if(i[0]==126&&i[i.length-1]==126){var n=new s.default.JTHeader;n.FillByBinary(i,1);if(this.JX808Data(n,i,n.GetLength()+1)){return}}var r=String.fromCharCode.apply(null,i);var a=JSON.parse(r);this.callback(a)}},{key:"JX808Data",value:function e(t,i,n){switch(t.MsgId){case 34960:var r=new s.default.JT0x8890;r.FillByBinary(i,n);if(this.wfs.config.events){if(r.NType==0){if(this.wfs.config.events.onDevConnect){this.wfs.config.events.onDevConnect(this.wfs.video_id,this.wfs)}if(this.wfs.config.events.onServerNotice){this.wfs.config.events.onServerNotice("onDevConnect",this.wfs.video_id,this.wfs)}}if(r.NType==1){if(this.wfs.config.events.onDevDisconnect){this.wfs.config.events.onDevDisconnect(this.wfs.video_id,this.wfs)}if(this.wfs.config.events.onServerNotice){this.wfs.config.events.onServerNotice("onDevDisconnect",this.wfs.video_id,this.wfs)}}if(r.NType==2){if(this.wfs.config.events.onEndByServer){if(this.wfs.config.events.onEndByServer(r.Notice,this.wfs.video_id,this.wfs)){this.wfs.CloseSocket();return true}}this.wfs.Stop()}}return true}return false}},{key:"config",get:function e(){return this.wfs.config}}]);return e}();i.default=h},{"../JX/JTT1078":1,"../utils/logger":9}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=e("../helper/ByteHelper");var s=u(r);var a=e("../utils/logger");var o=u(a);function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function e(t){f(this,e);this.wfs=t;this.ok=false}n(e,[{key:"destroy",value:function e(){this.close()}},{key:"getConnByCluster",value:function e(t,i,n,r){this.callback=r;var s=this;var a=true;this.wss=wx.connectSocket({url:"wss://"+t+":"+i,complete:function e(t){o.default.debug("ClusterConnect",t)}});this.wss.onClose(function(e){o.default.debug("ClusterClosed",e);if(!this.ok&&this.wfs.config.events){if(this.wfs.config.events.onWsClose){this.wfs.config.events.onWsClose(this.wfs.video_id,this.wfs)}if(this.wfs.config.events.onServerNotice){this.wfs.config.events.onServerNotice("onWsClose",this.wfs.video_id,this.wfs)}this.wfs.Stop()}}.bind(this));this.wss.onMessage(function(e){s.receive(e)});this.wss.onOpen(function(e){if(a){a=false;o.default.debug("ClusterOpen",e);s.send(n)}});if(a&&this.wss.readyState==1){a=false;o.default.debug("ClusterOpen2",res);s.send(n)}}},{key:"close",value:function e(){if(this.wss){this.wss.close({complete:function e(t){o.default.debug("CloseCluster",t)}});this.wss=null}}},{key:"send",value:function e(t){var i=new Uint8Array([1,0,0,3,235,0,0,0,0,0,0,0,0,0,0,0,0]);s.default.StringToGBK(i,5,t);this.wss.send({data:i.buffer,complete:function e(t){o.default.debug("ClusterSendMessage",t)}})}},{key:"receive",value:function e(t){var i=new Uint8Array(t.data);var n=s.default.GBKToString(i);this.ok=/[^:]+:\d+.*/.test(n);this.callback(n,this)}}]);return e}();i.default=h},{"../helper/ByteHelper":3,"../utils/logger":9}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=e("./utils/cvComm");var s=c(r);var a=e("./loader/wxwssCluster");var o=c(a);var u=e("./loader/wxwss");var f=c(u);var h=e("./utils/logger");var l=c(h);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};d(this,e);this.config=t;if(this.config.protocol==undefined){this.config.protocol=0}this.socketCreatedId=0;this.StartID=0;this.time_id=-1}n(e,[{key:"onHlsInfo",value:function e(t){this.rtmp_url=t.ServerAddr;this.clientid=t.ClinetID;this.StartHeartbeat()}},{key:"StartRealTimeVideo",value:function e(t,i,n){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;this.Stop();this.IsRequestPlay=true;this.createSocketAndSendCmd(i,n,function(){if(s){this.wss.jt1078.Send9101Rtmp(i,n,0,r)}else{this.wss.jt1078.Send9101Rtmp(i,n,1,r)}}.bind(this),function(e){this.onHlsInfo(e);t(this.rtmp_url)}.bind(this))}},{key:"PlaybackVideo",value:function e(t,i,n,r){var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var f=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var h=arguments[8];var l=arguments.length>9&&arguments[9]!==undefined?arguments[9]:"";var c=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;i=s.default.SimLen(i,this.config.protocol);this.Stop();this.IsRequestPlay=true;this.createSocketAndSendCmd(i,n,function(){this.IsPlay=true;this.wss.jt1078.Send9201Rtmp(i,n,r,a,o,u,f,h,l,c)}.bind(this),function(e){this.onHlsInfo(e);t(this.rtmp_url)}.bind(this))}},{key:"createSocketAndSendCmd",value:function e(t,i,n,r){t=s.default.SimLen(t,this.config.protocol);this.Sim=t;this.Channel=i;var a=this.socketCreatedId;this.CloseSocket();this.cluster=new o.default(this);this.cluster.getConnByCluster(this.config.clusterHost,this.config.clusterPort,t,function(e,t){this.CloseSocket();if(e!=null){var i=e.split(":");if(a==this.socketCreatedId){this.wss=new f.default(this);this.wss.conn(i[0],i[1],n,r)}}}.bind(this))}},{key:"CloseSocket",value:function e(){if(this.cluster){this.cluster.close();this.cluster=null}if(this.wss){this.wss.close();this.wss=null;this.socketCreatedId++}this.StopHeartbeat()}},{key:"Stop",value:function e(){var t=this.IsRequestPlay;this.IsRequestPlay=false;this.CloseSocket();if(t){if(this.config.events&&this.config.events.onStop){this.config.events.onStop(this.video_id,this)}}}},{key:"StartHeartbeat",value:function e(){this.StartID++;if(this.time_id===-1){this.time_id=setInterval(this.SendHeartbeatPackage.bind(this),1e3*5)}}},{key:"StopHeartbeat",value:function e(){if(this.time_id!=-1){clearInterval(this.time_id);this.time_id=-1;this.StartID++}}},{key:"SendHeartbeatPackage",value:function e(){this.wss.jt1078.SendHeartRtmp(this.Sim,this.Channel,this.rtmp_url,this.clientid)}}],[{key:"logger",get:function e(){return l.default}}]);return e}();l.default.SetLevel(1);i.default=g},{
"./loader/wxwss":5,"./loader/wxwssCluster":6,"./utils/cvComm":8,"./utils/logger":9}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(){r(this,e)}n(e,null,[{key:"SimLen",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(typeof t!=="string"){t=String(t)}var n=12;if(i!=0){n=20}if(t.length>n){return t.substr(0,n)}else{while(t.length<n){t="0"+t}return t}}},{key:"IsHttps",value:function e(){if(document){return document.location.protocol=="https:"}else{return true}}},{key:"GetWsp",value:function t(){if(e.IsHttps()){return"wss://"}else{return"ws://"}}},{key:"loadJs",value:function e(t,i){var n=document.createElement("script");n.type="text/javascript";if(typeof i!="undefined"){if(n.readyState){n.onreadystatechange=function(){if(n.readyState=="loaded"||n.readyState=="complete"){n.onreadystatechange=null;i()}}}else{n.onload=function(){i()}}}n.src=t;document.body.appendChild(n)}},{key:"loadCss",value:function e(t,i,n,r){var s=document.createElement("link");s.type="text/css";s.rel="stylesheet";if(i){s.id=i}if(typeof n!="undefined"){if(s.readyState){s.onreadystatechange=function(){if(s.readyState=="loaded"||s.readyState=="complete"){s.onreadystatechange=null;n()}}}else{s.onload=function(){n()}}}s.href=t;if(r)document.head.prepend(s);else document.head.appendChild(s)}}]);return e}();i.default=s},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){s(this,e)}r(e,null,[{key:"SetLevel",value:function t(i){e.level=i}},{key:"SetTag",value:function t(i){if(typeof e.tags=="undefined")e.tags=new Map;e.tags.set(i,1)}},{key:"debug",value:function t(i){var n;if(typeof e.level!="undefined"&&e.level>0){return}for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++){s[a-1]=arguments[a]}(n=console).log.apply(n,["debug:"+(new Date).toLocaleTimeString()+" :"+i].concat(s))}},{key:"warn",value:function t(i){var n;if(typeof e.level!="undefined"&&e.level>1){return}for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++){s[a-1]=arguments[a]}(n=console).log.apply(n,["warn:"+(new Date).toLocaleTimeString()+" :"+i].concat(s))}},{key:"error",value:function t(i){var n;if(typeof e.level!="undefined"&&e.level>2){return}for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++){s[a-1]=arguments[a]}(n=console).log.apply(n,["error "+(new Date).toLocaleTimeString()+" :"+i].concat(s))}},{key:"custom",value:function t(i,r){var s;if(typeof e.tags=="undefined")return;if(!n(e.tags.has(i)))return;for(var a=arguments.length,o=Array(a>2?a-2:0),u=2;u<a;u++){o[u-2]=arguments[u]}(s=console).log.apply(s,["tag:"+i+" "+(new Date).toLocaleTimeString()+" :"+r].concat(o))}},{key:"downArrayBuffer",value:function e(t,i){var n=new Blob([t]);var r=document.createElement("a");r.download=i;r.style.display="none";r.href=URL.createObjectURL(n);document.body.appendChild(r);r.click();URL.revokeObjectURL(r.href);document.body.removeChild(r)}},{key:"downUint8Arrays",value:function e(t,i){var n=new Blob(t);var r=document.createElement("a");r.download=i;r.style.display="none";r.href=URL.createObjectURL(n);document.body.appendChild(r);r.click();URL.revokeObjectURL(r.href);document.body.removeChild(r)}},{key:"diffTimeStr",value:function e(t,i){var n=i.getTime()-t.getTime();var r=Math.floor(n/(24*3600*1e3));var s=n%(24*3600*1e3);var a=Math.floor(s/(3600*1e3));var o=s%(3600*1e3);var u=Math.floor(o/(60*1e3));var f=o%(60*1e3);var h=Math.round(f/1e3);var l=h.toString();if(h<10){l="0"+l}l=u+":"+l;if(u<10){l="0"+l}if(a>0){l=a+":"+l}if(r>0){l=r+"d"+l}return l}}]);return e}();i.default=a},{}],10:[function(e,t,i){"use strict";t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,i){this.low=e|0;this.high=t|0;this.unsigned=!!i}r.prototype.__isLong__;Object.defineProperty(r.prototype,"__isLong__",{value:true});function s(e){return(e&&e["__isLong__"])===true}r.isLong=s;var a={};var o={};function u(e,t){var i,n,r;if(t){e>>>=0;if(r=0<=e&&e<256){n=o[e];if(n)return n}i=h(e,(e|0)<0?-1:0,true);if(r)o[e]=i;return i}else{e|=0;if(r=-128<=e&&e<128){n=a[e];if(n)return n}i=h(e,e<0?-1:0,false);if(r)a[e]=i;return i}}r.fromInt=u;function f(e,t){if(isNaN(e))return t?p:m;if(t){if(e<0)return p;if(e>=T)return _}else{if(e<=-S)return C;if(e+1>=S)return I}if(e<0)return f(-e,t).neg();return h(e%y|0,e/y|0,t)}r.fromNumber=f;function h(e,t,i){return new r(e,t,i)}r.fromBits=h;var l=Math.pow;function c(e,t,i){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return m;if(typeof t==="number"){i=t,t=false}else{t=!!t}i=i||10;if(i<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");else if(n===0){return c(e.substring(1),t,i).neg()}var r=f(l(i,8));var s=m;for(var a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+o),i);if(o<8){var h=f(l(i,o));s=s.mul(h).add(f(u))}else{s=s.mul(r);s=s.add(f(u))}}s.unsigned=t;return s}r.fromString=c;function d(e,t){if(typeof e==="number")return f(e,t);if(typeof e==="string")return c(e,t);return h(e.low,e.high,typeof t==="boolean"?t:e.unsigned)}r.fromValue=d;var g=1<<16;var v=1<<24;var y=g*g;var T=y*y;var S=T/2;var w=u(v);var m=u(0);r.ZERO=m;var p=u(0,true);r.UZERO=p;var b=u(1);r.ONE=b;var B=u(1,true);r.UONE=B;var k=u(-1);r.NEG_ONE=k;var I=h(4294967295|0,2147483647|0,false);r.MAX_VALUE=I;var _=h(4294967295|0,4294967295|0,true);r.MAX_UNSIGNED_VALUE=_;var C=h(0,2147483648|0,false);r.MIN_VALUE=C;var L=r.prototype;L.toInt=function e(){return this.unsigned?this.low>>>0:this.low};L.toNumber=function e(){if(this.unsigned)return(this.high>>>0)*y+(this.low>>>0);return this.high*y+(this.low>>>0)};L.toString=function e(t){t=t||10;if(t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var i=f(t),n=this.div(i),r=n.mul(i).sub(this);return n.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t)}var s=f(l(t,6),this.unsigned),a=this;var o="";while(true){var u=a.div(s),h=a.sub(u.mul(s)).toInt()>>>0,c=h.toString(t);a=u;if(a.isZero())return c+o;else{while(c.length<6){c="0"+c}o=""+c+o}}};L.getHighBits=function e(){return this.high};L.getHighBitsUnsigned=function e(){return this.high>>>0};L.getLowBits=function e(){return this.low};L.getLowBitsUnsigned=function e(){return this.low>>>0};L.getNumBitsAbs=function e(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();var t=this.high!=0?this.high:this.low;for(var i=31;i>0;i--){if((t&1<<i)!=0)break}return this.high!=0?i+33:i+1};L.isZero=function e(){return this.high===0&&this.low===0};L.eqz=L.isZero;L.isNegative=function e(){return!this.unsigned&&this.high<0};L.isPositive=function e(){return this.unsigned||this.high>=0};L.isOdd=function e(){return(this.low&1)===1};L.isEven=function e(){return(this.low&1)===0};L.equals=function e(t){if(!s(t))t=d(t);if(this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1)return false;return this.high===t.high&&this.low===t.low};L.eq=L.equals;L.notEquals=function e(t){return!this.eq(t)};L.neq=L.notEquals;L.ne=L.notEquals;L.lessThan=function e(t){return this.comp(t)<0};L.lt=L.lessThan;L.lessThanOrEqual=function e(t){return this.comp(t)<=0};L.lte=L.lessThanOrEqual;L.le=L.lessThanOrEqual;L.greaterThan=function e(t){return this.comp(t)>0};L.gt=L.greaterThan;L.greaterThanOrEqual=function e(t){return this.comp(t)>=0};L.gte=L.greaterThanOrEqual;L.ge=L.greaterThanOrEqual;L.compare=function e(t){if(!s(t))t=d(t);if(this.eq(t))return 0;var i=this.isNegative(),n=t.isNegative();if(i&&!n)return-1;if(!i&&n)return 1;if(!this.unsigned)return this.sub(t).isNegative()?-1:1;return t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1};L.comp=L.compare;L.negate=function e(){if(!this.unsigned&&this.eq(C))return C;return this.not().add(b)};L.neg=L.negate;L.add=function e(t){if(!s(t))t=d(t);var i=this.high>>>16;var n=this.high&65535;var r=this.low>>>16;var a=this.low&65535;var o=t.high>>>16;var u=t.high&65535;var f=t.low>>>16;var l=t.low&65535;var c=0,g=0,v=0,y=0;y+=a+l;v+=y>>>16;y&=65535;v+=r+f;g+=v>>>16;v&=65535;g+=n+u;c+=g>>>16;g&=65535;c+=i+o;c&=65535;return h(v<<16|y,c<<16|g,this.unsigned)};L.subtract=function e(t){if(!s(t))t=d(t);return this.add(t.neg())};L.sub=L.subtract;L.multiply=function e(t){if(this.isZero())return m;if(!s(t))t=d(t);if(n){var i=n["mul"](this.low,this.high,t.low,t.high);return h(i,n["get_high"](),this.unsigned)}if(t.isZero())return m;if(this.eq(C))return t.isOdd()?C:m;if(t.eq(C))return this.isOdd()?C:m;if(this.isNegative()){if(t.isNegative())return this.neg().mul(t.neg());else return this.neg().mul(t).neg()}else if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(w)&&t.lt(w))return f(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16;var a=this.high&65535;var o=this.low>>>16;var u=this.low&65535;var l=t.high>>>16;var c=t.high&65535;var g=t.low>>>16;var v=t.low&65535;var y=0,T=0,S=0,p=0;p+=u*v;S+=p>>>16;p&=65535;S+=o*v;T+=S>>>16;S&=65535;S+=u*g;T+=S>>>16;S&=65535;T+=a*v;y+=T>>>16;T&=65535;T+=o*g;y+=T>>>16;T&=65535;T+=u*c;y+=T>>>16;T&=65535;y+=r*v+a*g+o*c+u*l;y&=65535;return h(S<<16|p,y<<16|T,this.unsigned)};L.mul=L.multiply;L.divide=function e(t){if(!s(t))t=d(t);if(t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1){return this}var i=(this.unsigned?n["div_u"]:n["div_s"])(this.low,this.high,t.low,t.high);return h(i,n["get_high"](),this.unsigned)}if(this.isZero())return this.unsigned?p:m;var r,a,o;if(!this.unsigned){if(this.eq(C)){if(t.eq(b)||t.eq(k))return C;else if(t.eq(C))return b;else{var u=this.shr(1);r=u.div(t).shl(1);if(r.eq(m)){return t.isNegative()?b:k}else{a=this.sub(t.mul(r));o=r.add(a.div(t));return o}}}else if(t.eq(C))return this.unsigned?p:m;if(this.isNegative()){if(t.isNegative())return this.neg().div(t.neg());return this.neg().div(t).neg()}else if(t.isNegative())return this.div(t.neg()).neg();o=m}else{if(!t.unsigned)t=t.toUnsigned();if(t.gt(this))return p;if(t.gt(this.shru(1)))return B;o=p}a=this;while(a.gte(t)){r=Math.max(1,Math.floor(a.toNumber()/t.toNumber()));var c=Math.ceil(Math.log(r)/Math.LN2),g=c<=48?1:l(2,c-48),v=f(r),y=v.mul(t);while(y.isNegative()||y.gt(a)){r-=g;v=f(r,this.unsigned);y=v.mul(t)}if(v.isZero())v=b;o=o.add(v);a=a.sub(y)}return o};L.div=L.divide;L.modulo=function e(t){if(!s(t))t=d(t);if(n){var i=(this.unsigned?n["rem_u"]:n["rem_s"])(this.low,this.high,t.low,t.high);return h(i,n["get_high"](),this.unsigned)}return this.sub(this.div(t).mul(t))};L.mod=L.modulo;L.rem=L.modulo;L.not=function e(){return h(~this.low,~this.high,this.unsigned)};L.and=function e(t){if(!s(t))t=d(t);return h(this.low&t.low,this.high&t.high,this.unsigned)};L.or=function e(t){if(!s(t))t=d(t);return h(this.low|t.low,this.high|t.high,this.unsigned)};L.xor=function e(t){if(!s(t))t=d(t);return h(this.low^t.low,this.high^t.high,this.unsigned)};L.shiftLeft=function e(t){if(s(t))t=t.toInt();if((t&=63)===0)return this;else if(t<32)return h(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned);else return h(0,this.low<<t-32,this.unsigned)};L.shl=L.shiftLeft;L.shiftRight=function e(t){if(s(t))t=t.toInt();if((t&=63)===0)return this;else if(t<32)return h(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned);else return h(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};L.shr=L.shiftRight;L.shiftRightUnsigned=function e(t){if(s(t))t=t.toInt();if((t&=63)===0)return this;if(t<32)return h(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned);if(t===32)return h(this.high,0,this.unsigned);return h(this.high>>>t-32,0,this.unsigned)};L.shru=L.shiftRightUnsigned;L.shr_u=L.shiftRightUnsigned;L.rotateLeft=function e(t){var i;if(s(t))t=t.toInt();if((t&=63)===0)return this;if(t===32)return h(this.high,this.low,this.unsigned);if(t<32){i=32-t;return h(this.low<<t|this.high>>>i,this.high<<t|this.low>>>i,this.unsigned)}t-=32;i=32-t;return h(this.high<<t|this.low>>>i,this.low<<t|this.high>>>i,this.unsigned)};L.rotl=L.rotateLeft;L.rotateRight=function e(t){var i;if(s(t))t=t.toInt();if((t&=63)===0)return this;if(t===32)return h(this.high,this.low,this.unsigned);if(t<32){i=32-t;return h(this.high<<i|this.low>>>t,this.low<<i|this.high>>>t,this.unsigned)}t-=32;i=32-t;return h(this.low<<i|this.high>>>t,this.high<<i|this.low>>>t,this.unsigned)};L.rotr=L.rotateRight;L.toSigned=function e(){if(!this.unsigned)return this;return h(this.low,this.high,false)};L.toUnsigned=function e(){if(this.unsigned)return this;return h(this.low,this.high,true)};L.toBytes=function e(t){return t?this.toBytesLE():this.toBytesBE()};L.toBytesLE=function e(){var t=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};L.toBytesBE=function e(){var t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,i>>>24,i>>>16&255,i>>>8&255,i&255]};r.fromBytes=function e(t,i,n){return n?r.fromBytesLE(t,i):r.fromBytesBE(t,i)};r.fromBytesLE=function e(t,i){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)};r.fromBytesBE=function e(t,i){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)}},{}]},{},[4])(4)});